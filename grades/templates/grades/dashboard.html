{% extends "base.html" %}
{% load static %}

{% block title %}Student Dashboard - ACUmie{% endblock %}

{% block content %}
<style>
  .sidebar-course { max-height: calc(100vh - 120px); overflow-y: auto; }
  .display-6 { font-size: 2rem; }
</style>

<div class="container-fluid">
  <div class="row">
    
    <aside class="col-md-3 bg-light vh-100 p-3 sidebar-course border-end">
      <h5 class="mb-3"><i class="bi bi-collection-play"></i> My Courses</h5>
      <div class="list-group list-group-flush">
        {% for c in courses %}
          <a href="{% url 'courses:detail' c.id %}" class="list-group-item list-group-item-action border-0 mb-2 shadow-sm rounded">
            <div class="d-flex w-100 justify-content-between align-items-center">
              <h6 class="mb-1 fw-bold text-primary">{{ c.code }}</h6>
              <span class="badge bg-secondary rounded-pill">{{ c.ects_credit }} ECTS</span>
            </div>
            <p class="mb-1 small text-muted text-truncate">{{ c.title }}</p>
          </a>
        {% empty %}
          <div class="alert alert-info">No courses found.</div>
        {% endfor %}
      </div>
    </aside>

    <main class="col-md-9 p-4">
      
      <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
          <h2 class="fw-bold">Welcome, {{ user_name }}! ðŸ‘‹</h2>
          <p class="text-muted mb-0">Role: {{ user_role }}</p>
        </div>
      </div>
      <hr class="mb-4">

      {% if is_student %}
      
          {% include "grades/student_content.html" %}
      
      {% else %}
          
          <div class="alert alert-info">
              This dashboard is currently optimized for Students.
          </div>
      
      {% endif %}
      </main>
  </div>
</div>
{% endblock content %}